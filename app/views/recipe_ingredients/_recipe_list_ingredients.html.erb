<div class="d-flex flex-column gap-2">
  <% if ingredients.count > 0 %>
    <% ingredients.each do |ingredient| %>
      <div class="input ingredient-list">
        <!--trash icon, favorite star, and name -->

        <div class="ingredient-list-name">
          <%= render 'shared/list_ingredient_icons', ingredient: ingredient%>
          <div>
            <p style="height: fit-content;"><%= ingredient.ingredient.name.capitalize %></p>
            <p style="height: fit-content; margin-left: 10px;"><em><%= ingredient.comment %></em></p>
          </div>
        </div>

        <!--form to update ingredient-->
        <%= simple_form_for @recipe_ingredient && @recipe_ingredient.id == ingredient.id ? @recipe_ingredient : ingredient,
            url: recipe_recipe_ingredient_path(@recipe, @recipe_ingredient || ingredient),
            defaults: { input_html: {style: "margin-bottom:0px;height:100%;background-image: none;padding:0px;"}} do |f| %>
              <%= f.input :quantity, label_html: { class:"d-none"}, wrapper_html: { style: "margin-bottom:0px !important;"}, input_html: { class: "light-grey-background"} %>
              <%= f.input :measurement, collection: %w[g kg mg l ml cup tsp tbs unit quart gallon pint], label_html: { class:"d-none"},
                  wrapper_html: { style: "margin-bottom:0px !important;"}, input_html: { class: "light-grey-background"},
                  selected: @recipe_ingredient ? @recipe_ingredient.measurement : ingredient.measurement %>
              <%= f.button :submit, "✔️" %>
        <%end%>
      </div>
    <% end %>
  <% end %>
</div>
