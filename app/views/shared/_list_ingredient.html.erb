<h1>Inventory</h1>
<div class="d-flex flex-column gap-2">
  <% if ingredients.count > 0 %>
    <% ingredients.each do |ingredient| %>
      <div class="input ingredient-list">
        <!--trash icon, favorite star, and name -->

        <div class="d-flex flex-row flex-nowrap justify-content-start">
            <%= link_to user_ingredient_path(ingredient), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "ingredient-delete" do %>
              <i class="fa-solid fa-trash-can light-grey-background pr-1" style="font-size:14px;" ></i>
            <% end %>
          <% if ingredient.class == UserIngredient %>
            <%= link_to user_ingredient_path(ingredient), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "ingredient-delete" do %>
              <i class="fa-solid fa-trash-can light-grey-background pr-1" style="font-size:14px;" ></i>
            <% end %>
          <% else %>
            <%= link_to grocery_ingredient_path(ingredient), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "ingredient-delete" do %>
              <i class="fa-solid fa-trash-can light-grey-background pr-1" style="font-size:14px;"></i>
            <% end %>
          <% end %>
          <div>
            <p style="height: fit-content;"><%= ingredient.ingredient.name %></p>
          </div>
        </div>

        <!--form to update ingredient-->
        <%= simple_form_for @recipe_ingredient && @recipe_ingredient.id == ingredient.id ? @recipe_ingredient : ingredient, defaults: { input_html: {style: "margin-bottom:0px;height:100%;background-image: none;padding:0px;"}} do |f| %>
            <%= f.input :quantity, label_html: { class:"d-none"}, wrapper_html: { style: "margin-bottom:0px !important;"}, input_html: { class: "light-grey-background"} %>
            <%= f.input :measurement, collection: %w[ml l kg g mg], label_html: { class:"d-none"}, wrapper_html: { style: "margin-bottom:0px !important;"}, input_html: { class: "light-grey-background"} %>
            <!--
            <% if ingredient.class == UserIngredient %>
              <%= f.input :favorited, as: :boolean %>
            <% end %>
            -->
            <%= f.button :submit, "✔️" %>
        <%end%>
      </div>
    <% end %>
  <% end %>
</div>
